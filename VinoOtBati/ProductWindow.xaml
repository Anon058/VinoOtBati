<Window x:Class="VinoOtBati.ProductWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VinoOtBati"
        mc:Ignorable="d"
        Title="Просмотр товаров" Height="600" Width="1000" FontFamily="Pacifico" ResizeMode="NoResize" Background="#F3E5F5" Foreground="#7B1FA2"
        WindowStartupLocation="CenterScreen">

    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="72*"/>
            <ColumnDefinition Width="140*"/>
            <ColumnDefinition Width="81*"/>
        </Grid.ColumnDefinitions>


        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="23"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Frame x:Name="MainFrame" Grid.ColumnSpan="3" />

        <TextBlock x:Name="WelcomeText" Foreground="#7B1FA2 " FontSize="16" Margin="250,0,25,0" VerticalAlignment="Center" Height="29" RenderTransformOrigin="0.5,0.512" Grid.Column="1" Grid.ColumnSpan="2"/>
        <TextBlock x:Name="CountText" Grid.Row="1" Margin="13,6,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="65" Height="13" FontWeight="Bold" Visibility="Visible"/>
        <StackPanel Orientation="Horizontal" Margin="10,16,10,30" Grid.RowSpan="2" Grid.ColumnSpan="3" >
            <ComboBox x:Name="BrandCombo" Background="#F3E5F5" Foreground="#7B1FA2 " Width="150" Height="20" VerticalAlignment="Top" Margin="0,0,10,0" SelectionChanged="BrandCombo_SelectionChanged_1"/>
            <ComboBox x:Name="CategoryCombo" Background="#F3E5F5" Foreground="#7B1FA2 " Width="150" Height="20" VerticalAlignment="Top" Margin="0,0,10,0" SelectionChanged="CategoryCombo_SelectionChanged_1"/>
            <TextBox x:Name="SearchBox" Background="#F3E5F5" Foreground="#7B1FA2 " Width="200" Height="20" VerticalAlignment="Top" Margin="0,0,10,0" TextChanged="SearchBox_TextChanged"/>
            <Button Content="По возрастанию" Background="#F3E5F5" Foreground="#7B1FA2 " Click="SortAsc_Click" Height="20" VerticalAlignment="Top" Margin="0,0,10,0"/>
            <Button Content="По убыванию" Background="#F3E5F5" Foreground="#7B1FA2 " Height="20" VerticalAlignment="Top" Click="SortDesc_Click"/>
            <Button x:Name="basket" Content="корзина" Background="#F3E5F5" Foreground="#7B1FA2 " Height="20" VerticalAlignment="Top" Click="Button_Click" Margin="10,0,10,0"/>
            <Button x:Name="ManagerOrdersBtn" Visibility="Hidden" Content="Управление заказами" Background="#F3E5F5" Foreground="#7B1FA2 " Height="20" VerticalAlignment="Top" Click="ManagerOrdersBtn_Click"  Margin="10,0,10,0"/>
            
        </StackPanel>
        <ListView x:Name="ProductsListView" Background="#F3E5F5" Foreground="#7B1FA2" 
          d:ItemsSource="{d:SampleData ItemCount=5}" Margin="0,19,-43,0" MouseRightButtonDown="personListView_MouseRightButtonDown" Grid.Row="1" Grid.ColumnSpan="3">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Width="100" Height="100" Margin="0,0,10,0" Source="{Binding image}"/>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="{Binding ProductName}" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBlock Margin="0,0,0,5">
                                <Run Text="Бренд: " FontFamily="Pacifico"/>
                                <Run Text="{Binding Brands.BrandName}" FontFamily="Pacifico" FontSize="14" />
                            </TextBlock>
                            <TextBlock Visibility="Hidden" x:Name="Supplier" Margin="0,0,500,-20" FontSize="14" FontFamily="Pacifico">
                                <Run Text="Поставщик: "/>
                                <Run Text="{Binding Suppliers.SupplierName}"/>
                            </TextBlock>
                            <TextBlock Margin="0,0,0,5">
                            </TextBlock>
                            <TextBlock Margin="5,0,0,0" >
                                <Run Text="Цена:" FontSize="14" FontFamily="Pacifico"/>
                                <Run Text="{Binding PricePerUnit}" TextDecorations="Strikethrough" FontSize="14" FontFamily="Pacifico"/>
                                <Run Text="₽" FontSize="14"/>
                            </TextBlock>
                        </StackPanel>
                        <StackPanel Grid.Column="4" VerticalAlignment="Center" HorizontalAlignment="Right">
                            <TextBlock Margin="500,0,0,0">
                                <Run Text="Скидка:" FontSize="14" FontFamily="Pacifico"/>
                                <Run Text="{Binding Discount}" FontFamily="Pacifico" FontSize="14"/>
                                <Run Text="%" FontFamily="Pacifico" FontSize="14"/>
                            </TextBlock>
                            <TextBlock Margin="500,0,10,0">
                                <Run Text="Цена со скидкой:" FontSize="14" FontFamily="Pacifico"/>
                                <Run Text="{Binding DiscountedPrice}" FontFamily="Pacifico" FontSize="14"/>
                                <Run Text="₽" FontSize="14"/>
                            </TextBlock>
                            <TextBlock Visibility="Hidden" Name="war" FontSize="14" FontFamily="Pacifico" Margin="500,0,20,0">
                                <Run Text="Наличие на складе: "/>
                                <Run Text="{Binding StockQuantity}"/>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
    <Window.ContextMenu>
        <ContextMenu x:Name="ProductContextMenu">
            <MenuItem Header="Добавить к заказу" Click="AddToOrder_Click"/>
        </ContextMenu>
    </Window.ContextMenu>
</Window>