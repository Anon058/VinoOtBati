<Window x:Class="VinoOtBati.OrderDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Детали заказа" Height="400" Width="800"
        FontFamily="Pacifico" Background="#F3E5F5" Foreground="#7B1FA2">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="{Binding OrderID, StringFormat='Заказ №{0}'}" 
                   FontSize="16" FontWeight="Bold"/>

        <StackPanel Grid.Row="1" Orientation="Horizontal">
            <TextBlock Text="Дата: " FontWeight="Bold"/>
            <TextBlock Text="{Binding DateOfOrder, StringFormat={}{0:dd.MM.yyyy}}"/>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal">
            <TextBlock Text="Клиент: " FontWeight="Bold"/>
            <TextBlock Text="{Binding Users.UserName}"/>
            <TextBlock Text=" Телефон: " FontWeight="Bold" Margin="10,0,0,0"/>
            <TextBlock Text="{Binding Users.Number}"/>
        </StackPanel>

        <DataGrid Grid.Row="3" ItemsSource="{Binding OrderDetails}" 
                 AutoGenerateColumns="False" Margin="0,10,0,0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Товар" Binding="{Binding Products.ProductName}" Width="*"/>
                <DataGridTextColumn Header="Количество" Binding="{Binding Quantity}" Width="Auto"/>
                <DataGridTextColumn Header="Цена" Binding="{Binding Products.PricePerUnit, StringFormat={}{0:C}}" Width="Auto"/>
                <DataGridTextColumn Header="Сумма" Width="Auto">
                    <DataGridTextColumn.Binding>
                        <MultiBinding StringFormat="{}{0:C}">
                            <Binding Path="Quantity"/>
                            <Binding Path="Products.PricePerUnit"/>
                        </MultiBinding>
                    </DataGridTextColumn.Binding>
                </DataGridTextColumn>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <TextBlock Text="Итого: " FontWeight="Bold" Margin="0,0,10,0"/>
            <TextBlock Text="{Binding TotalCost, StringFormat={}{0:C}}" FontWeight="Bold"/>
        </StackPanel>
    </Grid>
    
</Window>